<h2>{{ title }}</h2>

<app-validation-summary [errors]="errors"></app-validation-summary>

<form (ngSubmit)="OnSubmit()" [formGroup]="form">

  <div class="d-flex flex-wrap">
    <div class="col-12 col-md-3">
      <app-input-img [currentImageURL]="model?.logo" [buttonText]="'Select a logo'" (image)="selectedImage($event)" [height]="'150px'"></app-input-img>
    </div>

    <div class="col-12 col-md-8 offset-md-1">

      <div class="row">
        <mat-form-field appearance="outline" class="col-md-9 mb-3">
          <mat-label>Name</mat-label>
          <input formControlName="name" matInput>
         <mat-error *ngIf="form.invalid">{{ getNameFieldError() }}</mat-error>
         </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-3 mb-3">
          <mat-label>Short Name</mat-label>
          <input formControlName="shortName" matInput>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="mb-3">
        <mat-label>Court</mat-label>
        <mat-select formControlName="courtId">
          <mat-option *ngFor="let court of courts" [value]="court.id" >{{ court.name }}</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="row">

        <mat-form-field appearance="outline" class="col-md-4 mb-3">
          <mat-label>Country</mat-label>
          <mat-select formControlName="countryId">
            <mat-option *ngFor="let country of countries" [value]="country.id">{{ country.name }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-4 mb-3">
          <mat-label>Sport</mat-label>
          <mat-select formControlName="sportId">
            <mat-option *ngFor="let sport of sports" [value]="sport.id">{{ sport.name }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-4 mb-3">
          <mat-label>League</mat-label>
          <mat-select formControlName="leagueId">
            <mat-option *ngFor="let league of leagues" [value]="league.id">{{ league.name }}</mat-option>
          </mat-select>
        </mat-form-field>

      </div>

      <div class="row">
        <mat-form-field appearance="outline" class="col-md-2">
          <mat-label>Primary Color</mat-label>
          <input formControlName="primaryColor" type="color" matInput >
        </mat-form-field>

        <mat-form-field appearance="outline" class="col-md-2">
          <mat-label>Secondary Color</mat-label>
          <input formControlName="secondaryColor" type="color" matInput >
        </mat-form-field>
      </div>

      <!-- <div class="mb-3">
        <app-players-autocomplete></app-players-autocomplete>
      </div> -->

      <div class="d-flex gap-3 mb-3">
        <button mat-flat-button color="primary" [disabled]="form.invalid">Save</button>
        <a mat-stroked-button routerLink="/teams">Cancel</a>
      </div>

    </div>

  </div>

</form>
